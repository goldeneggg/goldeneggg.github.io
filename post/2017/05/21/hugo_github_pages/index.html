<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <meta name="generator" content="Hugo 0.51" />
  <meta name="author" content="horizoon">

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Merriweather:400,700%7cOpen&#43;Sans:400,400italic,700%7cRoboto&#43;Mono%25!%28EXTRA%20*hugolib.PageOutput=Page%28/post/hugo_github_pages.md%29%29">
  <link rel="stylesheet" href="/styles.css">
  
  <link rel="stylesheet" href="/css/monokai.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-129776715-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    <script async src="//cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js"></script>
  

  
  <link rel="alternate" href="https://horizoon.jp/index.xml" type="application/rss+xml" title="horizoon">
  <link rel="feed" href="https://horizoon.jp/index.xml" type="application/rss+xml" title="horizoon">
  

  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/img/favicon/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://horizoon.jp/post/2017/05/21/hugo_github_pages/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="horizoon">
  <meta property="og:url" content="https://horizoon.jp/post/2017/05/21/hugo_github_pages/">
  <meta property="og:title" content="Github Pages &amp; Hugo でブログ公開するまで | horizoon">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2017-05-21T12:54:19&#43;09:00">
  
  <meta property="article:modified_time" content="2017-05-21T12:54:19&#43;09:00">
  

  <title>Github Pages &amp; Hugo でブログ公開するまで | horizoon</title>

  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-129776715-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


</head>
<body>

<style type="text/css">

.masthead-hero {
  background-image: url("https://horizoon.jp/img/hero.jpg");
}
</style>

<div class="masthead-hero"></div>


<div id="main" role="main">
  <div class="sidebar sticky" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <div class="author-avatar">
    <a href="/">
      <img src="/img/portrait.jpg" alt="horizoon" itemprop="image">
    </a>
  </div>
  <div class="author-content">
    <h3 class="author-name" itemprop="name">horizoon</h3>
    <p class="author-bio" itemprop="description">Fuminori Sakamoto</p>
  </div>
  <div class="author-urls-wrapper">
    <ul class="author-urls social-icons" aria-hidden="true">
      <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
        <span itemprop="name">Japan</span>
      </li>
      
      <li>
        <a itemprop="sameAs" href="mailto:jpshadowapps@gmail.com" target="_blank" rel="noopener noreferrer">
          <i class="fa fa-envelope"></i>
          jpshadowapps@gmail.com
        </a>
      </li>
      
      <li>
        <a itemprop="sameAs" href="//gist.github.com/goldeneggg/b10744a776a04b66b77df7485e6fdf2b" target="_blank" rel="noopener noreferrer">
          <i class="fa fa-file"></i>
          Resume(Japanese)
        </a>
      </li>
      
      <li>
        <a itemprop="sameAs" href="//linkedin.com/in/horizoon-sakamoto" target="_blank" rel="noopener noreferrer">
          <i class="fa fa-linkedin"></i>
          LinkedIn
        </a>
      </li>
      
      <li>
        <a itemprop="sameAs" href="//github.com/goldeneggg" target="_blank" rel="noopener noreferrer">
          <i class="fa fa-github"></i>
          Github
        </a>
      </li>
      
      <li>
        <a itemprop="sameAs" href="//facebook.com/fuminori.sakamoto" target="_blank" rel="noopener noreferrer">
          <i class="fa fa-facebook"></i>
          Facebook
        </a>
      </li>
      
      <li>
        <a itemprop="sameAs" href="//flickr.com/photos/porkandchicken" target="_blank" rel="noopener noreferrer">
          <i class="fa fa-flickr"></i>
          Flickr
        </a>
      </li>
      
    </ul>  
  </div>
</div>

  <article class="page">
		<div class="page_container">
			<section class="page_content">
				<div class="navbar-hero">
	<nav>
		<a href="/">Home</a>&nbsp&nbsp•&nbsp&nbsp
		<a href="/projects">Projects</a>&nbsp&nbsp•&nbsp&nbsp
		<a href="/post">Blog</a>&nbsp&nbsp•&nbsp&nbsp
		<a href="/about">About</a>
	</nav>
</div>

				<article class="post" itemscope itemtype="http://schema.org/Article">
  <div class="post-container">
    <h1 itemprop="name"><a href="https://horizoon.jp/post/2017/05/21/hugo_github_pages/">Github Pages &amp; Hugo でブログ公開するまで</a></h1>

    
      

<div class="post-metadata">

  <span class="post-date">
    
    <time datetime="2017-05-21 12:54:19 &#43;0900 JST" itemprop="datePublished dateModified">
      2017-05-21
    </time>
  </span>

  

</div>

    

    <div class="post-style" itemprop="articleBody">
      
      

<p>ブログサービスを使わずブログを公開するというのが初めての作業だったので、備忘も兼ねてメモしておく。</p>

<h2 id="github-pages用のリポジトリを作成">Github Pages用のリポジトリを作成</h2>

<p>Github Pages にブログを公開するに辺り、まずは <a href="https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/" target="_blank">こちらの公式の記事</a>を参考に</p>

<ul>
<li><code>pages</code> というリポジトリ - 記事のソースファイル置き場</li>
<li><code>ACCOUNT名.github.io</code> というリポジトリ - Github Pages 公開用リポジトリ

<ul>
<li>私の場合 <code>ACCOUNT名</code> は <code>goldeneggg</code> になる。</li>
</ul></li>
</ul>

<p>という2つのリポジトリを作成した。pagesリポジトリで作成したコンテンツのビルド成果物を goldeneggg.github.io リポジトリに出力→pushして公開する、という流れを想定している。</p>

<h2 id="hugoの導入">Hugoの導入</h2>

<p>サイトジェネレータの選定だが、Go製の <a href="https://github.com/spf13/hugo" target="_blank">hugo</a> が<a href="http://deeeet.com/writing/2014/12/25/hugo/" title="deeeetさんの記事" target="_blank">生成処理が速い</a>という評判だったのと、個人的にGoが好き という理由であまり深くは考えずHugoを使う事にした。</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># brew か go get でインストール</span>

$ brew install hugo

<span class="c1">## Or</span>

$ go get -u -v github.com/spf13/hugo</code></pre></div>
<h2 id="hugoの初期設定">Hugoの初期設定</h2>

<ol>
<li>最初に作成した 記事のソースファイル置き場 用のリポジトリを <code>git clone</code> する</li>
<li>cloneしたディレクトリに<code>cd</code>し、<code>hugo new site .</code> する。これで雛形となるディレクトリ群が生成される</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">$ git clone git@github.com:goldeneggg/pages.git

$ <span class="nb">cd</span> pages
$ hugo new site .

<span class="c1"># 確認</span>
$ tree
.
├── archetypes
├── config.toml
├── content
├── data
├── layouts
├── static
└── themes</code></pre></div>
<h2 id="config-toml-の設定"><code>config.toml</code> の設定</h2>

<p>自分の場合はこんな感じ</p>

<ul>
<li>googleAnalytics は導入したくなったら修正</li>
<li>baseurl Github Pages公開の際のドメインを指定。 <strong>末尾の <code>/</code> を忘れずに</strong></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-toml" data-lang="toml"><span class="nx">languageCode</span> <span class="p">=</span> <span class="s2">&#34;ja-jp&#34;</span>
<span class="nx">title</span> <span class="p">=</span> <span class="s2">&#34;@goldeneggg&#34;</span>
<span class="nx">baseurl</span> <span class="p">=</span> <span class="s2">&#34;https://goldeneggg.github.io/&#34;</span>
<span class="nx">theme</span> <span class="p">=</span> <span class="s2">&#34;ghostwriter&#34;</span>
<span class="nx">copyright</span> <span class="p">=</span> <span class="s2">&#34;Fuminori Sakamoto&#34;</span>
<span class="c">#googleAnalytics = &#34;XXX&#34;</span>

<span class="p">[</span><span class="nx">Author</span><span class="p">]</span>
    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;@golden_eggg&#34;</span>

<span class="p">[</span><span class="nx">Taxonomies</span><span class="p">]</span>
    <span class="nx">tag</span> <span class="p">=</span> <span class="s2">&#34;tags&#34;</span>

<span class="p">[</span><span class="nx">Params</span><span class="p">]</span>
    <span class="nx">intro</span> <span class="p">=</span> <span class="kc">true</span>
    <span class="nx">headline</span> <span class="p">=</span> <span class="s2">&#34;@goldeneggg&#34;</span>
    <span class="nx">github</span> <span class="p">=</span> <span class="s2">&#34;https://github.com/goldeneggg&#34;</span>
    <span class="nx">twitter</span> <span class="p">=</span> <span class="s2">&#34;https://twitter.com/golden_eggg&#34;</span>
    <span class="nx">email</span> <span class="p">=</span> <span class="s2">&#34;jpshadowapps@gmail.com&#34;</span>
    <span class="nx">opengraph</span> <span class="p">=</span> <span class="kc">true</span>

<span class="p">[</span><span class="nx">Permalinks</span><span class="p">]</span>
    <span class="nx">post</span> <span class="p">=</span> <span class="s2">&#34;/:year/:month/:day/:slug/&#34;</span>

<span class="p">[[</span><span class="nx">menu</span><span class="p">.</span><span class="nx">main</span><span class="p">]]</span>
    <span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;Post&#34;</span>
    <span class="nx">url</span> <span class="p">=</span> <span class="s2">&#34;/&#34;</span>
    <span class="nx">weight</span> <span class="p">=</span> <span class="mi">1</span></code></pre></div>
<h2 id="記事用のmarkdown作成">記事用のmarkdown作成</h2>

<ol>
<li>記事のmarkdownファイルを <code>hugo new &lt;markdownファイル名&gt;</code> で生成する</li>
<li><code>hugo new</code> で生成したmarkdownを適宜編集</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">$ hugo new post/YYYY-MM-DD_PAGENAME.md</code></pre></div>
<h3 id="記事用のmarkdownの書き方">記事用のmarkdownの書き方</h3>

<ul>
<li><code>+++</code> で囲まれた上部はメタ情報

<ul>
<li><code>title</code> を修正</li>
<li><code>slug</code> を追加（これで公開時のURLがファイル名ではなくこのslugになる）</li>
<li><code>tags</code> を追加（記事のカテゴリタグ）</li>
</ul></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-markdown" data-lang="markdown">+++<span class="err">
</span><span class="err"></span>date = &#34;2017-01-15T23:29:55+09:00&#34;<span class="err">
</span><span class="err"></span>title = &#34;テスト&#34;<span class="err">
</span><span class="err"></span>draft = true<span class="err">
</span><span class="err"></span>slug = &#34;hoge&#34;<span class="err">
</span><span class="err"></span>tags = [&#34;test&#34;]<span class="err">
</span><span class="err">
</span><span class="err"></span>+++<span class="err">
</span><span class="err">
</span><span class="err"></span>SOME CONTENTS</code></pre></div>
<h2 id="ローカルで内容確認">ローカルで内容確認</h2>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">$ hugo server -D -w</code></pre></div>
<p>↑して、 <a href="http://localhost:1313" target="_blank">http://localhost:1313</a> にアクセス</p>

<h2 id="テーマの導入">テーマの導入</h2>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">$ git submodule add &lt;THEME_REPOS&gt; themes/&lt;THEME_NAME&gt;</code></pre></div>
<p>このページでは<a href="https://github.com/jbub/ghostwriter" target="_blank">jbub/ghostwriter: A port of ghostwriter theme to Hugo.</a>を使っている</p>

<h2 id="コードハイライト">コードハイライト</h2>

<p>特に固有の設定などは不要で、問題無くハイライトできていそう</p>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="k">module</span> <span class="nn">Hoge</span>
  <span class="k">def</span> <span class="nf">hoge</span>
    <span class="s2">&#34;hogehoge&#34;</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>
<h2 id="ビルド">ビルド</h2>

<p>ここでは記事公開用に作成している goldeneggg.github.io リポジトリのローカルrootディレクトリに成果物をビルド・出力する</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># 同じディレクトリ階層に公開用リポジトリDIRが存在する という前提で</span>
$ hugo -d ../goldeneggg.github.io -v</code></pre></div>
<h2 id="githubにpush-公開">githubにpush・公開</h2>

<p>公開用リポジトリのmasterブランチへのpushを行うだけで公開される</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">$ <span class="nb">cd</span> ../goldeneggg.github.io
$ git push origin master</code></pre></div>
<h2 id="所感">所感</h2>

<p>Hugo + Github Pages で自分が行った作業手順を纏めてみたが、Github Pagesがwatchしていない内に随分と進化していてほとんどつまづく事無く公開まで辿り着けた。公開手順はもっと簡略化の余地がありそうだが、今日は一旦ここまで。</p>

    </div>

    
      

    

    
      
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Github%20Pages%20%26%20Hugo%20%e3%81%a7%e3%83%96%e3%83%ad%e3%82%b0%e5%85%ac%e9%96%8b%e3%81%99%e3%82%8b%e3%81%be%e3%81%a7&amp;url=https%3a%2f%2fhorizoon.jp%2fpost%2f2017%2f05%2f21%2fhugo_github_pages%2f"
         target="_blank" rel="noopener noreferrer">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fhorizoon.jp%2fpost%2f2017%2f05%2f21%2fhugo_github_pages%2f"
         target="_blank" rel="noopener noreferrer">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fhorizoon.jp%2fpost%2f2017%2f05%2f21%2fhugo_github_pages%2f&amp;title=Github%20Pages%20%26%20Hugo%20%e3%81%a7%e3%83%96%e3%83%ad%e3%82%b0%e5%85%ac%e9%96%8b%e3%81%99%e3%82%8b%e3%81%be%e3%81%a7"
         target="_blank" rel="noopener noreferrer">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Github%20Pages%20%26%20Hugo%20%e3%81%a7%e3%83%96%e3%83%ad%e3%82%b0%e5%85%ac%e9%96%8b%e3%81%99%e3%82%8b%e3%81%be%e3%81%a7&amp;body=https%3a%2f%2fhorizoon.jp%2fpost%2f2017%2f05%2f21%2fhugo_github_pages%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


    

    
      

    

  </div>
</article>
			</section>
		</div>
	</article>
</div> 

<div class="page_footer">
	<p>&copy; Fuminori Sakamoto 2018. Powered by <a href="http://gohugo.io/">Hugo</a> and <a href="https://github.com/jhu247/minimal-academic">Minimal Academic</a>.</p>
</div>
    
    


  </body>
</html>
